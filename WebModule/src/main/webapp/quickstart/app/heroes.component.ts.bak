import { Component } from '@angular/core';
import { Router }   from '@angular/router';

import { Hero } from './hero';

import { HeroService } from './hero.service';


import { OnInit } from '@angular/core'; 


@Component(
	{
		moduleId: module.id,
		selector:'my-heroes',
	 	templateUrl:'heroes.component.html' ,
  	styleUrls: ['heroes.component.css'],
	  
		}
	
)

export class HeroesComponent implements  OnInit {
	
	 
		
		heroes : Hero[];
		
		selecteHero:Hero;
		constructor( private router: Router,private heroService: HeroService) { };
		
		getHeroes(): void {
    	
    	 this.heroService.getHeroes().then(heroeq => this.heroes = heroeq);
  	};
  	
		ngOnInit(): void {
  		  this.getHeroes();
  	};
  	
		onSelect(hero:Hero):void{
			this.selecteHero = hero;
		}
		gotoDetail():void{
		  this.router.navigate(['/detail', this.selecteHero.id]);
		}
		
		add(name: string): void {
		  name = name.trim();
		  if (!name) { return; }
		  this.heroService.create(name)
		    .then(hero => {
		      this.heroes.push(hero);
		      this.selecteHero = null;
    });
}
		
	}